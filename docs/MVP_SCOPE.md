# MVP 기능 범위 명세서 (MVP Feature Scope)

## 문서 목적
영양사 식단 자동 생성 플랫폼의 MVP(Minimum Viable Product) 범위를 명확히 정의하고,
개발 우선순위를 설정하여 프로젝트 목표 달성을 보장합니다.

---

## MVP 정의

**MVP 목표**: 영양사가 월 단위 식단표를 자동 생성하고, 실시간으로 수정·관리할 수 있는 최소 기능 제품

**출시 예정**: Phase 7 완료 후

**타겟 사용자**: 학교·병원·기업·공공기관 영양사 (B2B 전용)

---

## ✅ MVP 포함 기능 (In Scope)

### 1. 사용자 인증 및 관리
**우선순위**: P0 (필수)

- [x] 영양사 계정 회원가입
- [x] 이메일/비밀번호 로그인
- [x] JWT 기반 인증
- [x] 영양사별 데이터 격리

**성공 기준**:
- 영양사는 본인의 식단 데이터만 접근 가능
- 토큰 만료 시 자동 로그아웃

---

### 2. 기존 식단 분석 및 자동 생성
**우선순위**: P0 (필수)

#### 2-1. 기존 식단 업로드
- [x] Excel 파일 업로드
- [x] 식단 데이터 파싱 (밥/국/반찬, 가격, 열량, 영양소)
- [x] 파싱 결과 DB 저장

#### 2-2. 식단 조합 분석
- [x] 영양 기준 충족도 점수 계산
- [x] 영양 균형 점수 계산 (탄/단/지 비율)
- [x] 예산 효율성 점수 계산
- [x] 알레르기 위험도 평가
- [x] 운영 안정성 점수 (조리 난이도, 수급 안정성)

#### 2-3. 월간 식단 자동 생성
- [x] 휴무일 자동 제외 (주말, 공휴일)
- [x] 커스텀 휴무일 반영 (재량휴무일, 행사일)
- [x] 평가 점수 기반 최적 조합 선택
- [x] 다양성 확보 (같은 메뉴 연속 등장 방지)
- [x] 알레르기 필터링 (사용자 입력 기반)
- [x] 식단 초안 생성 (영양사 승인 전제)

**성공 기준**:
- 영양사 협회 권장 기준 충족률 90% 이상
- 예산 상한선 준수율 100%
- 알레르기 필터링 정확도 100%

---

### 3. 식단 조회 및 수정
**우선순위**: P0 (필수)

#### 3-1. 식단 조회
- [x] 월별 식단 목록 조회 (페이지네이션)
- [x] 식단 상세 조회 (일별 메뉴, 영양소 요약)
- [x] 식단 이력 조회 (변경 내역)

#### 3-2. 실시간 식단 수정
- [x] 특정 날짜 메뉴 수정
- [x] 식재료 교체
- [x] 수정 시 영양소 자동 재계산
- [x] 수정 시 가격 자동 재계산
- [x] 예산 초과 시 경고 표시
- [x] 수정 이력 자동 기록

**성공 기준**:
- 메뉴 수정 후 영양소/가격 재계산 시간 < 1초
- 모든 수정 사항 이력 기록 100%

---

### 4. 식재료 파일 업로드 및 관리
**우선순위**: P1 (중요)

#### 4-1. 파일 업로드
- [x] Excel 파일 업로드
- [x] PDF 파일 업로드
- [x] HWP 파일 업로드
- [x] 파일 형식 검증
- [x] 파일 크기 제한 (10MB)

#### 4-2. 문서 파싱
- [x] 표 구조 자동 인식
- [x] 식재료명, 가격, 공급 가능 여부 추출
- [x] 파싱 결과 정규화

#### 4-3. 식재료 DB 관리
- [x] 식재료 정보 저장
- [x] 중복 식재료 병합 처리
- [x] 공급업체별 가격 관리
- [x] 재고 상태 관리 (available, out_of_stock, discontinued)

**성공 기준**:
- Excel 파싱 정확도 95% 이상
- PDF 파싱 정확도 85% 이상
- HWP 파싱 정확도 80% 이상

---

### 5. 월간 식단 테이블 UI
**우선순위**: P0 (필수)

#### 5-1. 식단 테이블 표시
- [x] 날짜별 행 구조
- [x] 밥/국/반찬 구분 컬럼
- [x] 휴무일 시각적 표시 (회색 처리)
- [x] 반응형 디자인

#### 5-2. 인라인 수정 기능
- [x] 셀 클릭 시 편집 모드
- [x] 드롭다운 또는 자동완성으로 메뉴 선택
- [x] Enter/Tab 키로 다음 셀 이동
- [x] Esc 키로 취소

#### 5-3. 실시간 재계산 표시
- [x] 영양소 합계 즉시 업데이트
- [x] 예산 초과 시 빨간색 경고

**성공 기준**:
- UI 반응 시간 < 100ms
- 영양소 재계산 시간 < 1초

---

### 6. 휴무일 관리
**우선순위**: P1 (중요)

- [x] 주말 자동 제외 (토/일)
- [x] 공휴일 자동 제외 (한국 공휴일 DB 또는 API 연동)
- [x] 커스텀 휴무일 추가/삭제
- [x] 캘린더 UI로 휴무일 선택
- [x] 휴무일 변경 시 식단 자동 재생성

**성공 기준**:
- 공휴일 자동 인식 정확도 100%
- 휴무일 변경 후 재생성 시간 < 5초

---

### 7. 드래그 앤 드롭 UI
**우선순위**: P2 (선택)

- [x] 식재료 목록 사이드바
- [x] 사이드바에서 식단 테이블로 드래그
- [x] 드롭 시 메뉴 교체
- [x] 드래그 중 미리보기

**성공 기준**:
- 드래그 앤 드롭 성공률 100%
- 메뉴 교체 후 재계산 시간 < 1초

---

## ❌ MVP 제외 기능 (Out of Scope)

### 1. 개인 맞춤 식단 기능
**제외 사유**: 영양사 전용 플랫폼으로 MVP 범위 한정

- 개인 사용자 회원가입
- 다이어트 목적별 칼로리 설정
- 개인 건강 정보 입력
- 개인 맞춤 추천

**향후 확장 계획**: Phase 7 이후 B2C 서비스 분리

---

### 2. 목적별 식단 모드
**제외 사유**: 영양사 단체급식 중심으로 MVP 범위 한정

- 다이어트 모드
- 벌크업 모드
- 건강관리 모드
- 목적별 매크로 목표 설정

**향후 확장 계획**: Phase 7 이후 확장 설계

---

### 3. 외부 시스템 연동
**제외 사유**: MVP는 식단 생성 및 관리에 집중

- 발주 시스템 연동
- 재고 관리 시스템 연동
- 쇼핑몰 API 실시간 가격 조회

**향후 확장 계획**: Epic 7-2-4 검토 후 결정

---

### 4. 고급 분석 기능
**제외 사유**: MVP는 기본 통계 분석으로 충분

- 머신러닝 기반 추천
- 계절별 트렌드 분석
- 영양사 간 식단 비교 분석

**향후 확장 계획**: Epic 7-2-3 ML 적용 검토

---

### 5. 모바일 앱
**제외 사유**: 영양사는 주로 PC 환경에서 작업

- 네이티브 모바일 앱 (iOS, Android)
- PWA (Progressive Web App)

**향후 확장 계획**: 사용자 피드백 기반 검토

---

## 기능 우선순위 매트릭스

| 기능 | 우선순위 | 영향도 | 개발 난이도 | MVP 포함 여부 |
|------|---------|--------|-------------|--------------|
| 사용자 인증 | P0 | 높음 | 낮음 | ✅ |
| 기존 식단 업로드 | P0 | 높음 | 중간 | ✅ |
| 식단 조합 분석 | P0 | 높음 | 높음 | ✅ |
| 월간 식단 자동 생성 | P0 | 높음 | 높음 | ✅ |
| 식단 조회 및 수정 | P0 | 높음 | 중간 | ✅ |
| 월간 식단 테이블 UI | P0 | 높음 | 중간 | ✅ |
| 휴무일 관리 | P1 | 중간 | 낮음 | ✅ |
| 식재료 파일 업로드 | P1 | 중간 | 높음 | ✅ |
| 드래그 앤 드롭 UI | P2 | 낮음 | 중간 | ✅ |
| 개인 맞춤 식단 | - | 낮음 | 높음 | ❌ |
| 목적별 식단 모드 | - | 낮음 | 높음 | ❌ |
| 외부 시스템 연동 | - | 낮음 | 높음 | ❌ |
| ML 기반 추천 | - | 낮음 | 매우 높음 | ❌ |
| 모바일 앱 | - | 낮음 | 높음 | ❌ |

**우선순위 정의**:
- **P0 (필수)**: MVP 출시를 위해 반드시 구현해야 하는 기능
- **P1 (중요)**: MVP에 포함되지만 일부 기능 축소 가능
- **P2 (선택)**: 개발 일정에 따라 MVP에서 제외 가능
- **- (제외)**: MVP 범위 외, 향후 확장 고려

---

## 성공 기준 요약

### 기능적 성공 기준
- ✅ 영양사는 기존 식단을 업로드하고 분석할 수 있다
- ✅ 시스템은 월간 식단 초안을 자동 생성한다
- ✅ 생성된 식단은 영양 기준을 90% 이상 충족한다
- ✅ 영양사는 식단을 실시간으로 수정할 수 있다
- ✅ 수정 시 영양소와 가격이 자동으로 재계산된다
- ✅ 휴무일은 자동으로 제외되며 커스텀 설정 가능하다

### 비기능적 성공 기준
- ✅ 식단 생성 시간 < 10초
- ✅ 식단 수정 후 재계산 시간 < 1초
- ✅ UI 반응 시간 < 100ms
- ✅ Excel 파싱 정확도 > 95%
- ✅ 영양사 데이터 격리 100%
- ✅ 모든 수정 이력 기록 100%

---

## 참고 문서
- [PRD.md](./PRD.md) - 제품 요구사항 정의서
- [task.md](./task.md) - 개발 Task 관리
- [PRD_CHANGELOG.md](./PRD_CHANGELOG.md) - PRD 변경 이력
